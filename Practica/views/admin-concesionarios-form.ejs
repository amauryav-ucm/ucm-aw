<% formTitle = method==="create"?"Nuevo Concesionario":"Modificar Concesionario" %>

<form id="formLogin" method="POST" class="rounded border border-3 p-5 needs-validation" novalidate>
    <fieldset>
        <legend class="text-center fw-bold"><%= formTitle %></legend>
        <div class="py-3">
            <% if (locals.err) { %>
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <h5 class="alert-heading">Ha ocurrido un error</h5>
                <%= locals.err %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
            </div>
            <% } %>

            <% if (locals.success) { %>
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <h5 class="alert-heading">Enhorabuena</h5>
                La acción se ha completado con éxito
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
                <hr>
                <a class="btn btn-secondary" href="/administracion/concesionarios">Volver</a>
            </div>
            <% } %>

            <% if (method==="update") { %>

            <div class="mb-3">
                <label for="id_concesionario" class="form-label fw-bold">ID Concesionario</label>
                <input type="text" id="id_concesionario" class="form-control-plaintext" name="id_concesionario" value="<%= concesionario.id_concesionario %>"
                    required readonly>
            </div>

            <% } %>


            <div class="mb-3">
                <label for="nombre" class="form-label fw-bold">Nombre</label>
                <input type="text" id="nombre" class="form-control" name="nombre" value="<%= method==="update"?concesionario.nombre:"" %>" required>
            </div>

            <div class="mb-3">
                <label for="ciudad" class="form-label fw-bold">Ciudad</label>
                <input type="text" id="ciudad" class="form-control" name="ciudad" value="<%= method==="update"?concesionario.ciudad:"" %>" required>
            </div>

            <div class="mb-3">
                <label for="direccion" class="form-label fw-bold">Dirección</label>
                <input type="text" id="direccion" class="form-control" name="direccion" value="<%= method==="update"?concesionario.direccion:"" %>" required>
            </div>

            <div class="mb-3">
                <label for="telefono_contacto" class="form-label fw-bold">Teléfono de contacto</label>
                <input type="text" id="telefono_contacto" class="form-control" name="telefono_contacto" pattern="[0-9]{9}"
                    value="<%= method==="update"?concesionario.telefono_contacto:"" %>" required>
                <span class="invalid-feedback">Introduce un número de teléfono válido</span>
            </div>


        </div>

        <div class="pt-4">
            <button class="btn btn-primary flex-fill" type="submit">Confirmar</button>
            <a href="/administracion/concesionarios" class="btn btn-secondary">Volver</a>
        </div>
    </fieldset>
</form>